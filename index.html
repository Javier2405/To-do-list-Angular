<!doctype html>
<html lang="en" ng-app="ToDo">
<head>
    <meta charset="utf-8" />
    <title>TODO</title>
    <!--
        <script src="main.js"></script>
    -->

    <style>
        .done{text-decoration: line-through; color:#ccc;}
    </style>

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">

</head>


<body>

    <div ng-controller="todoController">

        <form name="frm" ng-submit="addTodo()">
            <input type="text" name="newtodo" ng-model="newTodo" class="texto" required/>
            <button ng-disabled="frm.$invalid" class="boton_ir">Go</button>
        </form>

        <button ng-click="clearCompleted()" class="boton_limpiar">Clear Completed </button>

        <ul>
            <li class= "texto" ng-repeat="x in todos">
                <input type="checkbox" ng-model="x.done"/>
                <span ng-class="{'done':x.done}">{{x.title}}</span>
            </li>
        </ul>

    </div>

        <script>
        
        angular.module('ToDo',[]).
        controller('todoController', ['$scope', function($scope) {
            $scope.todos = [];

            $scope.addTodo = function(){
                $scope.todos.push({'title':$scope.newTodo,'done':false})
                $scope.newTodo = ''
            }
            
            $scope.clearCompleted = function(){
                $scope.todos = $scope.todos.filter(function(item){
                    return !item.done
                })
            }
        }])
        
        </script>

    
</body>
</html>